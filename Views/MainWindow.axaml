<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="Yprotect.Views.MainWindow"
        Title="Yprotect Password Manager"
        MinWidth="400" MinHeight="300"
        WindowStartupLocation="CenterScreen">

  <Grid Margin="10">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <!-- Header -->
    <Grid Grid.Row="0" Margin="0,0,0,10">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
      </Grid.ColumnDefinitions>
      
      <TextBlock Text="ðŸ” YPROTECT PASSWORD VAULT" 
                 FontSize="20" FontWeight="Bold"
                 VerticalAlignment="Center"
                 Foreground="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
      
      <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="5">
        <Button Content="{Binding ThemeButtonText}" 
                Command="{Binding CycleThemeCommand}"
                MinWidth="80"/>
        <Button Content="âš™ï¸" 
                Command="{Binding SettingsCommand}"
                ToolTip.Tip="Settings"
                Width="35" Height="35"/>
      </StackPanel>
    </Grid>

    <!-- Search -->
    <TextBox Grid.Row="1" 
             Text="{Binding SearchText}"
             Watermark="ðŸ” Search passwords..."
             Margin="0,0,0,10"/>

    <!-- List -->
    <Border Grid.Row="2"
            BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
            BorderThickness="1" CornerRadius="5" Padding="5">
      <ListBox ItemsSource="{Binding Passwords}"
               SelectedItem="{Binding SelectedPassword}"
               SelectionMode="Single">
        <ListBox.ItemTemplate>
          <DataTemplate>
            <Grid Margin="5">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
              </Grid.ColumnDefinitions>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
              </Grid.RowDefinitions>

              <TextBlock Grid.Column="0" Grid.Row="0"
                         Text="{Binding Site}"
                         FontWeight="Bold"/>
              <TextBlock Grid.Column="0" Grid.Row="1"
                         Text="{Binding Username}"
                         FontSize="12" Opacity="0.7"/>
              <TextBlock Grid.Column="1" Grid.RowSpan="2"
                         Text="{Binding MaskedPassword}"
                         VerticalAlignment="Center"
                         FontFamily="Consolas"/>
            </Grid>
          </DataTemplate>
        </ListBox.ItemTemplate>
      </ListBox>
    </Border>

    <!-- Buttons -->
    <StackPanel Grid.Row="3" Orientation="Horizontal" 
                HorizontalAlignment="Center" Spacing="10" Margin="0,10,0,0">
      <Button Content="âž• Add" 
              Command="{Binding AddCommand}"
              MinWidth="100" Padding="10,5"/>
      <Button Content="âœï¸ Edit" 
              Command="{Binding EditCommand}"
              MinWidth="100" Padding="10,5"/>
      <Button Content="ðŸ—‘ï¸ Delete" 
              Command="{Binding DeleteCommand}"
              MinWidth="100" Padding="10,5"/>
      <Button Content="ðŸ“ Import CSV" 
              Command="{Binding ImportCsvCommand}"
              MinWidth="100" Padding="10,5"/>
    </StackPanel>
  </Grid>
</Window>